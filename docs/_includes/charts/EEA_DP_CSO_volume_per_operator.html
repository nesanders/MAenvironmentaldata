{% raw  %}
<html>
    <head>
        <title>Discharge volume per operator by discharge type</title>
        <script src='https://cdn.jsdelivr.net/npm/chart.js@2.8.0/dist/Chart.bundle.min.js'></script>
    </head>
    <body>
        <div style="width: 640px; height: 480px; max-width: 99%" class="chartjs">

            <canvas id="Discharge volume per operator by discharge type" height="480" width="640"></canvas>
            <script>
                Chart.defaults.global.defaultFontSize = 12;
                var chart_data = {
                
                    data: {
                        labels: ['BOSTON WATER & SEWER COMMISSION', 'CITY OF CAMBRIDGE', 'CITY OF CHELSEA', 'CITY OF CHICOPEE', 'CITY OF FALL RIVER', 'CITY OF FITCHBURG', 'CITY OF GLOUCESTER', 'CITY OF HAVERHILL', 'CITY OF HOLYOKE', 'CITY OF NEW BEDFORD', 'CITY OF SOMERVILLE', 'CITY OF WORCESTER', 'GREATER LAWRENCE SANITARY DISTRICT', 'LOWELL REGIONAL WASTEWATER UTILITY', 'LYNN WATER & SEWER COMMISSION', 'MASSACHUSETTS WATER RESOURCES AUTHORITY', 'SHREWSBURY DEPARTMENT OF PUBLIC WORKS', 'SPRINGFIELD WATER & SEWER COMMISSION', 'TOWN OF MONTAGUE'],
                        datasets: [{'data': [1.3611, 0.49, 0.307, 52.558739, 60.974787, 3.470354, 0.018, 2.27901, 84.814893, 230.779195, 0.032, 0.0, 16.16, 128.3, 12.765, 0.01, 0.0, 213.459597, 0.236483], 'label': 'CSO – UnTreated', 'backgroundColor': 'rgba(31, 119, 180,0.8)', 'yAxisID': 'y-axis-0'},{'data': [0.0, 0.0, 0.0, 2.91, 191.66, 14.1767, 0.0, 1.6514, 0.0, 0.0, 0.0, 0.0, 2.5687, 189.78, 0.0, 70.32, 0.0, 6.1, 0.029], 'label': 'Partially Treated – Blended', 'backgroundColor': 'rgba(255, 127, 14,0.8)', 'yAxisID': 'y-axis-0'},{'data': [0.0, 0.0, 0.0, 5.631747, 30.952, 0.0, 0.0, 0.047198, 39.304, 0.0, 2.72, 21.278915, 0.0, 0.0, 0.0, 53.55, 0.0, 0.0, 0.0], 'label': 'CSO – Treated', 'backgroundColor': 'rgba(44, 160, 44,0.8)', 'yAxisID': 'y-axis-0'},{'data': [0.0, 0.0, 0.0, 3.91, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.39, 0.0, 0.0, 0.0, 0.0, 0.0], 'label': 'Partially Treated – Other', 'backgroundColor': 'rgba(214, 39, 40,0.8)', 'yAxisID': 'y-axis-0'},{'data': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.028, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0015, 0.0, 0.0], 'label': 'SSO – Failure of Pump Station or Associated Force Main', 'backgroundColor': 'rgba(148, 103, 189,0.8)', 'yAxisID': 'y-axis-0'},{'data': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.409, 0.0, 0.0, 0.0, 0.0], 'label': 'SSO – System Surcharging Under High Flow Conditions', 'backgroundColor': 'rgba(140, 86, 75,0.8)', 'yAxisID': 'y-axis-0'}]
                    },
                    type: 'bar',
                    options: {
                        scales: {
                            yAxes: [{
                                display: true,
                                scaleLabel: {
                                    display: true,
                                    labelString: 'Volume of discharges (millions of gallons)'
                                },
                                ticks: {
                                    beginAtZero: true, min: 0
                                },
                                "id": "y-axis-0",
                                "position": "left",
                                stacked: true
                            }, {
                                display: false,
                                scaleLabel: {
                                    display: true,
                                    labelString: ''
                                },
                                ticks: {
                                    beginAtZero: true, min: 0
                                },
                                "id": "y-axis-1",
                                "position": "right"
                            }],
                            xAxes: [{
                                scaleLabel: {
                                    display: true,
                                    labelString: 'Sewer operator (permittee)'
                                },
                                stacked: true,
                                ticks: {
                                    autoSkip: true
                                }
                            }]
                        },
                        legend: {
                            display: true
                            },
                        tooltips: {
                            display: true
                            }
                    },
                }
                
                
                
            </script>
            <script>
                {{
                    var ctx = document.getElementById("Discharge volume per operator by discharge type").getContext("2d");
                    var mychart = new Chart(ctx, chart_data);
                }}
            </script>

        </div>
    </body>
</html>
{% endraw  %}
