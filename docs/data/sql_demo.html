---
layout: default
title: SQL database demo
author: NES
---

<h1>{{ site.data.site_config.site_abbrev }} {{ page.title }}</h1>
<ul class="posts">

<h2>{{ site.data.site_config.site_abbrev }} Database Demo</h2>

<p>This page provides an interactive, browser-based demonstration of the <a href="index.html">{{ site.data.site_config.site_title }} SQLite database</a>. Use the </p>


<main>
    <label for='commands'>Enter some SQL</label>
    <br>

    <textarea rows=25 columns=75 id="commands">SELECT `name`, `sql`
  FROM `sqlite_master`
  WHERE type='table';</textarea>

<button id="execute" class="button">Execute</button>
<button id='savedb'  class="button">Save the db</button>
<div id="error" class="error"></div>

<pre id="output">Results will be displayed here</pre>
</main>

<script src="{{ site.url }}{{ site.baseurl }}/assets/sql.js"></script>
<script>
var xhr = new XMLHttpRequest();
xhr.open('GET', 'https://storage.googleapis.com/ns697-merdr/merdr.db', true);
xhr.responseType = 'arraybuffer';

xhr.onload = function(e) {
  var uInt8Array = new Uint8Array(this.response);
  var db = new SQL.Database(uInt8Array);
  var contents = db.exec("SELECT * FROM my_table");
  // contents is now [{columns:['col1','col2',...], values:[[first row], [second row], ...]}]
};
xhr.send();
</script>
